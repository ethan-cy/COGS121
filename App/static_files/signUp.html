<html>
<head>
    <title>MedicineApp</title>
    <link rel="stylesheet" type="text/css" href="SignUp.css">
    <link href="https://fonts.googleapis.com/css?family=Gugi" rel="stylesheet">

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/6.1.0/firebase-app.js"></script>

    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


    <script src="jquery-3.4.0.min.js"></script>

    <script>
    // Your web app's Firebase configuration
        var firebaseConfig = {
        apiKey: "AIzaSyD1AmgEsoFJzEU4QpwErkC3hB4tZ3PfJDw",
        authDomain: "cogs121-e90a1.firebaseapp.com",
        databaseURL: "https://cogs121-e90a1.firebaseio.com",
        projectId: "cogs121-e90a1",
        storageBucket: "cogs121-e90a1.appspot.com",
        messagingSenderId: "147712780983",
        appId: "1:147712780983:web:60d08250c06d5322"
        };
    // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        const txtEmail. = document.getElementByID('txtEmail');
        const txtPassword = document.getElemtnById('txtPassword');
        const btnLogin = document.getElementByID('btnLogin');
        const btnSignup = document.getElemtnById('btnSignup');
        const btnLogout = document.getElemtnById('btnLogout');

        //sign in
        btnLogin.addEventListener('click', e => {
        const email = txtEmail.value;
        const pass = txtPassword.value;
        const auth = firebase.auth();

        const promise = auth.signInWithEmailAndPassword(email, pass);
        promise.catch(e => console.log(e.message));
        });

        //sign out
        btnLogout.addEventListener('click', e => {
          firebase.auth()signOut();
        });

        //sign up
        btnSignUp.addEventListener('click', e => {
          //check that its a real email
          const email = txtEmail.value;
          const pass = txtPassword.value;
          const auth = firebase.auth();

          //sign in
          const promise = auth.createUserWithEmailAndPassword(email, pass);
          promise.catch(e => console.log(e.message));

          firebase.auth().onAuthStateChanged(firebaseUser => {
            if(firebaseUser) {
              console.log(firebaseUser);
            } else {
              console.log('not logged in');
            }
          })

          //add a realtime addEventListener
          firebase.auth().onAuthStateChanged(firebaseUser => {
            if(firebaseUser) {
              console.log(firebaseUser);
              btnLogout.classList.remove('hide');
            } else {
              console.log('not logged in ');tnLogout.classList.add('hide');
              b
            }
          })
        })


    </script>

    <!------------------------------------------------------------------>
    <script type="text/javascript">

    </script>
    <!------------------------------------------------------------------>

</head>
<body>
    <h1>Welcome to Medkit</h1>

    <div class="wrapper fadeInDown">
      <div id="formContent" style = "float:left">
        <!-- Tabs Titles -->


        <!-- Login Form -->
        <form>
          <input type="text" id="name" class="fadeIn third" name="name" placeholder="name">
          <input type="text" id="login" class="fadeIn second" name="login" placeholder="email">
          <input type="text" id="password" class="fadeIn third" name="login" placeholder="password">
          <input type="text" id="age" class="fadeIn third" name="age" placeholder="age">
          <input type="text" id="bloodType" class="fadeIn third" name="bloodType" placeholder="blood type">
          <input type="text" id="height" class="fadeIn third" name="height" placeholder="height">
          <input type="text" id="weight" class="fadeIn third" name="weight" placeholder="weight">


          <a href = "main.html"><input type="button" id ="btnSignUp" value = "Save" ></input>
        </form>

        <!-- Remind Password -->
        <div id="formFooter">
          <a class="underlineHover" href="sign_in.html">Back</a>
        </div>

      </div>
    </div>
    <!--<div class="row">-->

        <!--<button type="submit" class="btn btn-primary btn-block"> Login  </button>-->
      <!--2
    </div>
</article>
</div>
-->
<!--</div>-->

    <!-- Username: <input id= "nameBox" type = "text" size = "20"/> -->
</body>
</html>
