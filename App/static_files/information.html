<html>
<head>
    <title>MedicineApp</title>

    <script src="jquery-3.4.0.min.js"></script>

    <script type="text/javascript">

    $(document).ready(() => {
        

        $('#getInfoButton').click(() => {
            const requestURL = 'drugName/' + $('#drugNameBox').val();
            console.log('request to', requestURL);

            $.ajax({
                url: requestURL,
                type: 'GET',
                dataType: 'json',
                success: (data) => {
                    console.log('You received ', data);

                    if(data.Indiction && data.Dosage){
                        $('#IndicDiv').html('Indiction: ' + data.Indiction);
                        $('#DoseDiv').html('Dosage: ' + data.Dosage);
                    } else {
                        $('#IndicDiv').html('');
                        $('#DoseDiv').html('');
                    }
                }
            });
        });

        
    });

    </script>
</head>
<body>
    <h1>Drug Information</h1>

    Drug Name: <input id="drugNameBox" type="text" size="20"/>
    <button id="getInfoButton">Get Instruction</button>

    <div id="IndicDiv"></div>
    <br>
    <div id="DoseDiv"></div>
</body>
</html>